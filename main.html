<head>
  <title>Notification Board</title>
  <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap.css" rel="stylesheet">
  <link href="http://twitter.github.com/bootstrap/assets/css/bootstrap-responsive.css" rel="stylesheet">  
</head>

<body>
  {{> body}}
</body>

<template name="body">
  <div class="container">
    {{#page_is "/"}}
      {{> homepage}}
    {{/page_is}}
    {{#page_is "/dashboard/"}}
      {{> notificationboard}}
    {{/page_is}}
    {{#page_is "/complete/"}}
      {{> complete}}
    {{/page_is}}
  </div>
</template>

<template name="homepage">
  <h2>Welcome - Enter Your Code</h2>
  <form class="form form-inline">
    <input type="text" placeholder="Enter Code Here"></input>
    <button class="btn">Mark Complete</button>
  </form>
</template>

<template name="notificationboard">
  <h4>Notifications</h4>
  <table class="table table-striped">
    <tr>
      <th>Status</th>
      <th>Message</th>
      <th>Created</th>
      <th class="hidden-phone">ID</th>
    </tr>
    {{#each notifications}}
      {{> notificationitem}}
    {{/each}}
  </table>
  {{> create_notification}}
</template>

<template name="notificationitem">
  <tr>
    <td>{{status}}</td>
    <td>{{message}}</td>
    <td>{{formated_date}}</td>
    <td class="hidden-phone"><a href="{{get_url}}">{{_id}}</a></td>
  </tr>
</template>

<template name="create_notification">
  <form class="form form-inline">
    <input type="text" placeholder="New Notification"></input>
    <button class="btn" style="margin-right: 20px;">Add</button>
    <div style="display:inline-block;">
      <strong>Notify Via: </strong>
      <label class="checkbox"><input type="checkbox" id="subscribe_sms" value="sms"> SMS</label>
      <label class="checkbox"><input type="checkbox" id="subscribe_web" value="web"> Web</label>
      <label class="checkbox"><input type="checkbox" id="subscribe_call" value="call"> Call</label>
    </div>
  </form>
</template>

<template name="complete">
  <h3>Ticket: {{notification._id}}</h3>
  <h4>Status: {{notification.status}}</h4>
  <table cellpadding="5">
    <tr>
      <td align="right"><strong>Created:</strong></td>
      <td>{{formated_created}}</td>
    </tr>
    <tr>
      <td align="right"><strong>Done:</strong></td>
      <td>{{formated_done}}</td>
    </tr>
    <tr>
      <td align="right"><strong>Verified:</strong></td>
      <td>
        {{#if notification.verified_date}}
          <span style="background-color: yellow;">{{formated_verified}}</span>
        {{else}}
          <span style="color: #999;">Pending . . .</span>
        {{/if}}
      </td>
    </tr>
  </table>
</template>